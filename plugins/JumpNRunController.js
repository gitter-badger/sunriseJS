!function(a){var b=a.$rootScope,c=b.$scope.fn;c.JumpNRunController=function(){return JumpNRunController=function(a){function b(){var a=arguments[0];if(void 0===a||0===a.length){a=[];for(var b=1;b<arguments.length;b++)a.push(arguments[b])}else a instanceof Array||(a=[a]);return a}c.Component.call(this);var d=this,e=a||{};e.keys=e.keys||{},e.keys.left=b(e.keys.left,"a","left"),e.keys.right=b(e.keys.right,"d","right"),e.keys.jump=b(e.keys.jump,"w","up","space"),c.controls.onKeyDown("f",function(){window.player.emit("useItem",{})});var f=0;this.on("tick",function(){var a=!1;e.keys.left.forEach(function(b){a=a||c.controls.isKeyPressed(b)});var b=!1;e.keys.right.forEach(function(a){b=b||c.controls.isKeyPressed(a)});var g=!1;if(e.keys.jump.forEach(function(a){g=g||c.controls.isKeyPressed(a)}),a&&!b&&(d.entity.emit("changeAnimation",{animation:"walk_left",restart:!1}),f=-1,c.isSoundPlaying("steps")||c.playSound("steps")),b&&!a&&(d.entity.emit("changeAnimation",{animation:"walk_right",restart:!1}),f=1,c.isSoundPlaying("steps")||c.playSound("steps")),!a&&!b){if(0!==f){var h="stand_";-1===f?h+="left":1===f&&(h+="right"),d.entity.emit("changeAnimation",{animation:h,restart:!1}),f=0}c.isSoundPlaying("steps")&&c.pauseSound("steps")}d.entity.x+=2*f,g?d.entity.emit("setForce",{name:"movement",x:0,y:-20}):d.entity.emit("setForce",{name:"movement",x:0,y:0})})},c.Component.extend(JumpNRunController),JumpNRunController}(),c.components.add("JumpNRunController",function(a){return new c.JumpNRunController(a)})}($sr=window.$sr=window.$sr||{});
//# sourceMappingURL=../JumpNRunController.js.map